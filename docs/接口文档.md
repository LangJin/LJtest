# LJtest接口文档
## 版本变更

版本号 | 作者 | 状态| 变更内容  
-|-|-|-
 V1.03| 浪晋 | 新建 |新增了管理员接口|


## 目录
[TOC]
## 前台接口
### 查看版本号接口
- 接口地址：/showversion
- 接口类型：get
- 请求头：
```json
{"Content-Type":"application/json"}
```
- 接口参数：
```json
无
```
- 返回样式
```json
{
    "data": {
        "Version": "1.0.2",
        "info": "1、修改了禅道上提出的一堆BUG。\n                 
         2、优化了代码，增加了部分BUG。"
    },
    "msg": "查询成功",
    "status": 200
}
```

### 获取首页轮播图
- 接口地址：/get_title_img
- 接口类型：get
- 请求头：
```json
{"Content-Type":"application/json"}
```
- 接口参数：
```json
无
```
- 返回样式
```json
{
    "data": [
        {
            "content": "人啊就是要努力",
            "id": 1,
            "imghost": "/static/images/1.jpg",
            "title": "不积跬步无以至千里"
        },
        {
            "content": "不学习的人生是没有意义的",
            "id": 2,
            "imghost": "/static/images/1.jpg",
            "title": "今天不学习明天吃不上饭"
        },
        {
            "content": "今晚吃鸡",
            "id": 3,
            "imghost": "/static/images/1.jpg",
            "title": "大吉大利"
        }
    ],
    "msg": "成功！",
    "status": 200
}
```

### 获取推荐教程
- 接口地址：/getcoures?num=1
- 接口类型：get
- 请求头：
```json
{"Content-Type":"application/json"}
```
- 接口参数：
```json
num控制返回的数量，如果不传，默认返回4条
```
- 返回样式
```json
{
    "data": [
        {
            "content": "1111111111111111111111111111111111111111",
            "id": 1,
            "title": "测试基础",
            "ximg": "/static/images/ximg.jpg"
        },
        {
            "content": "我们正学习接口测试",
            "id": 2,
            "title": "接口测试",
            "ximg": "/static/images/ximg.jpg"
        },
        {
            "content": "测试测试测试",
            "id": 3,
            "title": "接口测试",
            "ximg": "/static/images/ximg.jpg"
        },
        {
            "content": "小hi小hi信号",
            "id": 4,
            "title": "接口测试",
            "ximg": "/static/images/ximg.jpg"
        }
    ],
    "msg": "成功！",
    "status": 200
}
```

### 获取教程详情
- 接口地址：/get/coure?cid=1
- 接口类型：get
- 请求头：
```json
{"Content-Type":"application/json"}
```
- 接口参数：
```json
cid是教程的id
```
- 返回样式
```json
{
    "data": [
        {
            "content": "1111111111111111111111111111111111111111",
            "id": 1,
            "title": "测试基础",
            "ximg": "/static/images/ximg.jpg"
        }
    ],
    "msg": "成功！",
    "status": 200
}
```



### 获取热门讨论
- 接口地址：/getquestions?num=1
- 接口类型：get
- 请求头：
```json
{"Content-Type":"application/json"}
```
- 接口参数：
```json
num控制返回的数量，如果不传，默认返回6条
```
- 返回样式
```json
{
    "data": [
        {
            "content": "123456",
            "id": 2,
            "tags": "测试",
            "title": "admi....n",
            "uid": 4,
            "ximg": "/static/images/ximg.jpg"
        },
        {
            "content": "内容",
            "id": 3,
            "tags": "测试",
            "title": "为什么要学习测试",
            "uid": 1,
            "ximg": "/static/images/ximg.jpg"
        }
    ],
    "msg": "成功！",
    "status": 200
}
```



### 获取问题详情
- 接口地址：/get/question?qid=1
- 接口类型：get
- 请求头：
```json
{"Content-Type":"application/json"}
```
- 接口参数：
```json
qid是问题的id
```
- 返回样式
```json
{
    "data": [
        {
            "content": "123456",
            "id": 4,
            "tags": "测试",
            "title": "admi....n",
            "uid": 1,
            "ximg": "/static/images/ximg.jpg"
        }
    ],
    "msg": "成功！",
    "status": 200
}
```



### 获取热门文章
- 接口地址：/getarticle?num=1
- 接口类型：get
- 请求头：
```json
{"Content-Type":"application/json"}
```
- 接口参数：
```json
num控制返回的数量，如果不传，默认返回6
```
- 返回样式
```json
{
    "data": [
        {
            "content": "测试真棒",
            "id": 1,
            "tags": "测试",
            "title": "测试",
            "uid": 1,
            "ximg": "/static/images/ximg.jpg"
        }
    ],
    "msg": "成功！",
    "status": 200
}
```

### 获取文章详情
- 接口地址：/get/article?aid=1
- 接口类型：get
- 请求头：
```json
{"Content-Type":"application/json"}
```
- 接口参数：
```json
aid是问题的id
```
- 返回样式
```json
{
    "data": [
        {
            "content": "测试真棒",
            "id": 1,
            "tags": "测试",
            "title": "测试",
            "uid": 1,
            "ximg": "/static/images/ximg.jpg"
        }
    ],
    "msg": "成功！",
    "status": 200
}
```



### 获取灵感
- 接口地址：/getinspirer?num=1
- 接口类型：get
- 请求头：
```json
{"Content-Type":"application/json"}
```
- 接口参数：
```json
num控制返回的数量，如果不传，默认返回6
```
- 返回样式
```json
{
    "data": [
        {
            "content": "鄢雨是个苕",
            "id": 4,
            "uid": null,
            "ximg": "/static/images/ximg.jpg"
        }
    ],
    "msg": "成功！",
    "status": 200
}
```

### 获取灵感详情
- 接口地址：/get/inspirer?iid=1
- 接口类型：get
- 请求头：
```json
{"Content-Type":"application/json"}
```
- 接口参数：
```json
iid是问题的id
```
- 返回样式
```json
{
    "data": [
        {
            "content": "鄢雨是个苕",
            "id": 4,
            "uid": null,
            "ximg": "/static/images/ximg.jpg"
        }
    ],
    "msg": "成功！",
    "status": 200
}
```


### 获取活跃用户
- 接口地址：/gethighusers?num=1
- 接口类型：get
- 请求头：
```json
{"Content-Type":"application/json"}
```
- 接口参数：
```json
num控制返回的数量，如果不传，默认返回15个
```
- 返回样式
```json
{
    "data": [
        {
            "headpic": null,
            "id": 1,
            "nickname": null
        }
    ],
    "msg": "成功！",
    "status": 200
}
```

### 获取用户详情
- 接口地址：/get/userinfo?uid=1
- 接口类型：get
- 请求头：
```json
{"Content-Type":"application/json"}
```
- 接口参数：
```json
uid是用户的id
```
- 返回样式
```json
{
    "data": [
        {
            "QQ": null,
            "address": null,
            "createtime": null,
            "email": null,
            "headpic": null,
            "id": 1,
            "job": null,
            "nickname": null,
            "password": "123456",
            "phone": null,
            "remark": null,
            "sex": null,
            "status": "0",
            "titlepic": null,
            "token": "b8ddd1442485fba8eb0b0a18a5fe539f9ffb26b6",
            "updatetime": null,
            "userinfo": null,
            "username": "admin",
            "weixin": null
        }
    ],
    "msg": "成功！",
    "status": 200
}
```



### 用户注册接口
- 接口地址：/regist
- 接口类型：post
- 请求头：
```json
{"Content-Type":"application/json"}
```
- 接口参数：
```json
{
    "username":"",  //账号
    "password":""  //密码
    }
```
- 返回样式
```json
{
    "data": null,
    "msg": true,
    "status": 200
}
```

### 用户登录接口
- 接口地址：/login
- 接口类型：post
- 请求头：
```json
{"Content-Type":"application/json"}
```
- 接口参数：
```json
{
    "username":"",  //账号
    "password":""  //密码
    }
```
- 返回样式
```json
{
    "data": {
        "token": "2d78c78ff82b459d632cc30afac929ee9fed6d33",
        "userinfo": {
            "headpic": null,
            "nickname": null,
            "uid": 165
        }
    },
    "msg": "登录成功！",
    "status": 200
}
```
### 用户提问接口
- 接口地址：/question/new
- 接口类型：post
- 请求头：
```json
{
    "Content-Type":"application/json",  //参数格式
    "token":"hsbdkajsndkasdnlasdbjabd"   //通过登录接口获取的tokne值
}
```
- 接口参数：
```json
{
    "title":"为什么要学习测试",  //文章标题
    "content":"内容",  //文章内容
    "tags":"测试",  //文章分类
    "brief":"介绍"  //文章的简介
}
```
- 返回样式
```json
{
    "data": null,
    "msg": true,
    "status": 200
}
```

### 用户修改提问接口
- 接口地址：/question/update
- 接口类型：post
- 请求头：
```json
{
    "Content-Type":"application/json",  //参数格式
    "token":"hsbdkajsndkasdnlasdbjabd"   //通过登录接口获取的tokne值
}
```
- 接口参数：
```json
{
    "title":"为什么要学习测试",  //文章标题
    "content":"内容",  //文章内容
    "tags":"测试",  //文章分类
    "brief":"介绍",  //文章的简介
    "qid":1  //文章ID
}
```
- 返回样式
```json
{
    "data": null,
    "msg": true,
    "status": 200
}
```

### 用户删除提问接口
- 接口地址：/question/delete
- 接口类型：post
- 请求头：
```json
{
    "Content-Type":"application/json",  //参数格式
    "token":"hsbdkajsndkasdnlasdbjabd"   //通过登录接口获取的tokne值
}
```
- 接口参数：
```json
{
    "qid":1 //文章ID
}
```
- 返回样式
```json
{
    "data": null,
    "msg": true,
    "status": 200
}
```
### 用户发表灵感接口
- 接口地址：/inspirer/new
- 接口类型：post
- 请求头：
```json
{
    "Content-Type":"application/json",  //参数格式
    "token":"hsbdkajsndkasdnlasdbjabd"   //通过登录接口获取的tokne值
}
```
- 接口参数：
```json
{
    "content":"内容"  //灵感的内容
}
```
- 返回样式
```json
{
    "data": null,
    "msg": true,
    "status": 200
}
```


### 用户修改灵感接口
- 接口地址：/inspirer/update
- 接口类型：post
- 请求头：
```json
{
    "Content-Type":"application/json",  //参数格式
    "token":"hsbdkajsndkasdnlasdbjabd"   //通过登录接口获取的tokne值
}
```
- 接口参数：
```json
{
    "content":"内容",  //灵感的内容
    "iid":1  //灵感的id
}
```
- 返回样式
```json
{
    "data": null,
    "msg": true,
    "status": 200
}
```


### 用户删除灵感接口
- 接口地址：/inspirer/delete
- 接口类型：post
- 请求头：
```json
{
    "Content-Type":"application/json",  //参数格式
    "token":"hsbdkajsndkasdnlasdbjabd"   //通过登录接口获取的tokne值
}
```
- 接口参数：
```json
{
    "iid":1  //灵感的id
}
```
- 返回样式
```json
{
    "data": null,
    "msg": true,
    "status": 200
}
```


### 用户写文章接口
- 接口地址：/article/new
- 接口类型：post
- 请求头：
```json
{
    "Content-Type":"application/json",  //参数格式
    "token":"hsbdkajsndkasdnlasdbjabd"   //通过登录接口获取的tokne值
}
```
- 接口参数：
```json
{
    "title":"为什么要学习测试",  //文章标题
    "content":"内容",  //文章内容
    "tags":"测试",  //文章分类
    "brief":"介绍"  //文章的简介
}
```
- 返回样式
```json
{
    "data": null,
    "msg": true,
    "status": 200
}
```



### 用户修改文章接口
- 接口地址：/article/update
- 接口类型：post
- 请求头：
```json
{
    "Content-Type":"application/json",  //参数格式
    "token":"hsbdkajsndkasdnlasdbjabd"   //通过登录接口获取的tokne值
}
```
- 接口参数：
```json
{
    "title":"为什么要学习测试",  //文章标题
    "content":"内容",  //文章内容
    "tags":"测试",  //文章分类
    "brief":"介绍",  //文章的简介
    "aid":1 //文章id
}
```
- 返回样式
```json
{
    "data": null,
    "msg": true,
    "status": 200
}
```



### 用户删除文章接口
- 接口地址：/article/delete
- 接口类型：post
- 请求头：
```json
{
    "Content-Type":"application/json",  //参数格式
    "token":"hsbdkajsndkasdnlasdbjabd"   //通过登录接口获取的tokne值
}
```
- 接口参数：
```json
{
    "aid":1 //文章id
}
```
- 返回样式
```json
{
    "data": null,
    "msg": true,
    "status": 200
}
```

### 修改个人资料接口
- 接口地址：/updateuserinfo
- 接口类型：post
- 请求头：
```json
{
    "Content-Type":"application/json",  //参数格式
    "token":"hsbdkajsndkasdnlasdbjabd"   //通过登录接口获取的tokne值
}
```
- 接口参数：
```json
{
   "nickname" :"", //昵称
    "titlepic" :"", //
    "headpic" :"", //
    "phone" :"",//电话
    "sex" :"",//性别
    "job" :"",//职业
    "email":"",//邮箱
    "weixin":"",//微信
    "qq":"",//QQ
    "userinfo":"",//个性签名
    "address" :"" //地址
}
```
- 返回样式
```json
{
    "data": null,
    "msg": true,
    "status": 200
}
```


### 点赞/取消点赞接口接口
- 接口地址：/userfellgoods
- 接口类型：post
- 请求头：
```json
{
    "Content-Type":"application/json",  //参数格式
    "token":"hsbdkajsndkasdnlasdbjabd"   //通过登录接口获取的tokne值
}
```
- 接口参数：
```json
{
    "goodtype":"article", //内容类型：article，coures，inspirer，questions
    "status":0,  //0 点赞，1取消点赞
    "gid":1 //点赞的东西的ID
}
```
- 返回样式
```json
{
    "data": null,
    "msg": [
        true,
        true
    ],
    "status": 200
}
```

### 收藏取消收藏接口接口
- 接口地址：/usercollections
- 接口类型：post
- 请求头：
```json
{
    "Content-Type":"application/json",  //参数格式
    "token":"hsbdkajsndkasdnlasdbjabd"   //通过登录接口获取的tokne值
}
```
- 接口参数：
```json
{
    "collectiontype":"article", //内容类型：article，coures，inspirer，questions
    "status":0,  //0 收藏，1取消收藏
    "cid":1 //收藏的东西的ID
}
```
- 返回样式
```json
{
    "data": null,
    "msg": [
        true,
        true
    ],
    "status": 200
}
```

### 关注取消关注接口
- 接口地址：/userfollows
- 接口类型：post
- 请求头：
```json
{
    "Content-Type":"application/json",  //参数格式
    "token":"hsbdkajsndkasdnlasdbjabd"   //通过登录接口获取的tokne值
}
```
- 接口参数：
```json
{
    "followtype":"article", //内容类型：article，coures，questions
    "status":0,  //0 收藏，1取消收藏
    "fid":1 //关注的东西的ID
}
```
- 返回样式
```json
{
    "data": null,
    "msg": [
        true,
        true
    ],
    "status": 200
}
```

### 评论接口
- 接口地址：/comment/new
- 接口类型：post
- 请求头：
```json
{
    "Content-Type":"application/json",  //参数格式
    "token":"hsbdkajsndkasdnlasdbjabd"   //通过登录接口获取的tokne值
}
```
- 接口参数：
```json
{
    "ctype":"0", //内容类型：，0教程1提问2灵感3心得体会
    "comment":"评论 内容",  //评论 内容
    "fid":1 //评论的东西的ID
}
```
- 返回样式
```json
{
    "data": null,
    "msg": true,
    "status": 200
}
```

### 修改评论接口
- 接口地址：/comment/update
- 接口类型：post
- 请求头：
```json
{
    "Content-Type":"application/json",  //参数格式
    "token":"hsbdkajsndkasdnlasdbjabd"   //通过登录接口获取的tokne值
}
```
- 接口参数：
```json
{
    "comment":"评论 内容",  //评论 内容
    "cid":1 //评论的ID
}
```
- 返回样式
```json
{
    "data": null,
    "msg": true,
    "status": 200
}
```


### 删除评论接口
- 接口地址：/comment/update
- 接口类型：post
- 请求头：
```json
{
    "Content-Type":"application/json",  //参数格式
    "token":"hsbdkajsndkasdnlasdbjabd"   //通过登录接口获取的tokne值
}
```
- 接口参数：
```json
{
    "cid":1 //评论的ID
}
```
- 返回样式
```json
{
    "data": null,
    "msg": true,
    "status": 200
}
```

## 后台接口

### 后台登录接口
- 接口地址：/adminlogin
- 接口类型：post
- 请求头：
```json
{
    "Content-Type":"application/json",  //参数格式
    "token":"hsbdkajsndkasdnlasdbjabd"   //通过登录接口获取的tokne值
}
```
- 接口参数：
```json
{
    "username":"", //账号
    "password":"" //密码
}
```
- 返回样式
```json
{
    "data": {
        "nickname":"",
        "headpic":"",
        "uid":""
    },
    "msg": true,
    "status": 200
}
```


### 获取教程列表接口
- 接口地址：/coureslist?pagenum=1
- 接口类型：get
- 请求头：
```json
{
    "Content-Type":"application/json"  //参数格式
}
```
- 接口参数：
```json
pagenum是页码，每一页展示10条数据
```
- 返回样式
```json
{
    "data": {
        "coureslist":[], //当页展示的数据
        "couresnum":"234" //总数
    },
    "msg": true,
    "status": 200
}
```


### 获取灵感列表接口
- 接口地址：/inspirlist?pagenum=1
- 接口类型：get
- 请求头：
```json
{
    "Content-Type":"application/json"  //参数格式
}
```
- 接口参数：
pagenum是页码，每一页展示10条数据
- 返回样式
```json
{
    "data": {
        "inspirlist":[], //当页展示的数据
        "inspirnum":"234" //总数
    },
    "msg": true,
    "status": 200
}
```


### 批量删除灵感接口
- 接口地址：/inspirdelete
- 接口类型：post
- 请求头：
```json
{
    "Content-Type":"application/json",  //参数格式
    "token":"1111"
}
```
- 接口参数：
```json
{
    "dlist":[1,2,3] // 需要删除的灵感的id
}
```
- 返回样式
```json
{
    "data":true ,
    "msg": "操作成功",
    "status": 200
}
```


### 修改灵感接口
- 接口地址：/inspirupdate
- 接口类型：post
- 请求头：
```json
{
    "Content-Type":"application/json",  //参数格式
    "token":"1111"
}
```
- 接口参数：
```json
{
    "iid":1, // 需要修改的灵感的id
    "content":"哈哈哈"
}
```
- 返回样式
```json
{
    "data":true ,
    "msg": "操作成功",
    "status": 200
}
```

### 获取文章列表接口
- 接口地址：/articlelist?pagenum=1
- 接口类型：get
- 请求头：
```json
{
    "Content-Type":"application/json"  //参数格式
}
```
- 接口参数：
pagenum是页码，每一页展示10条数据
- 返回样式
```json
{
    "data": {
        "articlelist":[], //当页展示的数据
        "articlenum":"234" //总数
    },
    "msg": true,
    "status": 200
}
```


### 获取问题列表接口
- 接口地址：/questionslist?pagenum=1
- 接口类型：get
- 请求头：
```json
{
    "Content-Type":"application/json"  //参数格式
}
```
- 接口参数：
pagenum是页码，每一页展示10条数据
- 返回样式
```json
{
    "data": {
        "questionslist":[], //当页展示的数据
        "questionsnum":"234" //总数
    },
    "msg": true,
    "status": 200
}
```

### 获取用户列表接口
- 接口地址：/userlist?pagenum=1
- 接口类型：get
- 请求头：
```json
{
    "Content-Type":"application/json"  //参数格式
}
```
- 接口参数：
pagenum是页码，每一页展示10条数据
- 返回样式
```json
{
    "data": {
        "userlist":[], //当页展示的数据
        "usernum":"234" //总数
    },
    "msg": true,
    "status": 200
}
```

### 批量删除问题接口
- 接口地址：/questionsdelete
- 接口类型：post
- 请求头：
```json
{
    "Content-Type":"application/json",  //参数格式
    "token":"1111"
}
```
- 接口参数：
```json
{
    "dlist":[1,2,3] // 需要删除的灵感的id
}
```
- 返回样式
```json
{
    "data":true ,
    "msg": "操作成功",
    "status": 200
}
```


### 批量删除用户接口
- 接口地址：/usersdelete
- 接口类型：post
- 请求头：
```json
{
    "Content-Type":"application/json",  //参数格式
    "token":"1111"
}
```
- 接口参数：
```json
{
    "dlist":[1,2,3] // 需要删除的灵感的id
}
```
- 返回样式
```json
{
    "data":true ,
    "msg": "操作成功",
    "status": 200
}
```


### 批量删除文章接口
- 接口地址：/articledelete
- 接口类型：post
- 请求头：
```json
{
    "Content-Type":"application/json",  //参数格式
    "token":"1111"
}
```
- 接口参数：
```json
{
    "dlist":[1,2,3] // 需要删除的灵感的id
}
```
- 返回样式
```json
{
    "data":true ,
    "msg": "操作成功",
    "status": 200
}
```


### 上传图片接口
- 接口地址：/upload
- 接口类型：post
- 请求头：
```json
{
    "Content-Type":"multipart/form-data",  //参数格式
    "token":"1111"
}
```
- 接口参数：

key | value|备注
-|-|-
 file| 文件路径|?
- 返回样式
```json
{
    "data":"esdrfserfe.jpg" ,
    "msg": "操作成功",
    "status": 200
}
```

### 读取图片接口
- 接口地址：/imgs
- 接口类型：get
- 请求头：
```json
{
    "Content-Type":"multipart/form-data"  //参数格式
}
```
- 参数
imgname=ssds.jpg
- 返回样式
无